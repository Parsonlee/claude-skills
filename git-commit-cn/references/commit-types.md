# 约定式提交类型参考

## 常用提交类型

| 类型 | 说明 | 示例 |
|------|------|------|
| `feat` | 新功能 | feat: 添加用户登录功能 |
| `fix` | 修复 bug | fix: 修复登录页面验证码不显示的问题 |
| `docs` | 文档变更 | docs: 更新 API 文档 |
| `style` | 代码格式调整(不影响功能) | style: 统一代码缩进为 2 空格 |
| `refactor` | 重构(既不是新功能也不是修复) | refactor: 重构用户认证模块 |
| `perf` | 性能优化 | perf: 优化列表查询性能 |
| `test` | 测试相关 | test: 添加用户登录单元测试 |
| `build` | 构建系统或依赖变更 | build: 升级 webpack 到 5.0 |
| `ci` | CI 配置变更 | ci: 添加 GitHub Actions 工作流 |
| `chore` | 其他不修改源码的变更 | chore: 更新 .gitignore |
| `revert` | 回滚提交 | revert: 回滚 feat: 添加支付功能 |

## 提交信息格式

### 基本格式

```
<类型>: <简短描述>

[可选的详细描述]

[可选的尾注]
```

### 带作用域的格式

```
<类型>(<作用域>): <简短描述>
```

示例:
- `feat(auth): 添加 OAuth2 登录支持`
- `fix(ui): 修复按钮样式在移动端错位`
- `docs(api): 更新用户 API 文档`

## 编写规范

### 简短描述规则

1. **使用动词开头**: 添加、修复、更新、删除、优化
2. **不超过 50 个字符**: 保持简洁明了
3. **不使用句号**: 描述结尾不加标点
4. **描述做了什么**: 而不是为什么做

✅ 好的示例:
- `feat: 添加用户头像上传功能`
- `fix: 修复购物车商品数量计算错误`
- `refactor: 重构数据库连接池逻辑`

❌ 不好的示例:
- `更新了一些东西` (不明确)
- `feat: 添加了用户可以上传头像的功能,支持 jpg 和 png 格式,大小不超过 5MB` (太长)
- `修复 bug` (不具体)

### 详细描述(可选)

- 换行后书写,解释变更的原因和影响
- 每行不超过 72 个字符
- 可以包含多个段落

示例:
```
feat: 添加用户头像上传功能

用户现在可以在个人设置页面上传自定义头像。
支持的格式: JPG, PNG, WebP
文件大小限制: 5MB
自动生成缩略图: 200x200, 48x48
```

### 尾注(可选)

- Breaking Change: 标记破坏性变更
- Closes: 关闭相关 issue

示例:
```
feat: 重构用户 API 认证方式

从 Session 认证改为 JWT Token 认证

BREAKING CHANGE: 旧的 session 认证方式已移除,客户端需要更新为 JWT 认证
Closes #123, #456
```

## 常见场景示例

### 新功能开发

```
feat: 添加商品收藏功能
feat(search): 添加搜索结果高亮显示
feat(payment): 集成支付宝支付
```

### Bug 修复

```
fix: 修复登录超时后无法重新登录
fix(cart): 修复购物车商品删除后总价未更新
fix(ui): 修复移动端导航菜单无法展开
```

### 文档更新

```
docs: 更新安装说明
docs(api): 添加用户认证 API 文档
docs: 修正 README 中的拼写错误
```

### 性能优化

```
perf: 优化首页加载速度
perf(db): 添加数据库查询索引
perf: 使用懒加载优化图片加载性能
```

### 代码重构

```
refactor: 重构用户权限检查逻辑
refactor(api): 统一 API 错误处理格式
refactor: 提取公共组件到 components 目录
```

